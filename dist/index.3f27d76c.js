!function(){let e=()=>{let t=document.querySelector(".header__time"),n=new Date,d=n.toLocaleTimeString();t.textContent=d,setTimeout(e,1e3)},t=e=>{e.classList.add("activeModal")},n=e=>{e.classList.remove("activeModal")},d=(e,t,n)=>{localStorage.setItem("todoArr",JSON.stringify(e)),localStorage.setItem("progressArr",JSON.stringify(t)),localStorage.setItem("doneArr",JSON.stringify(n))},a=(e,t,n,d,a,l)=>{e.innerText=t.length,n.innerText=d.length,a.innerText=l.length},l=e=>{e.classList.add("moveToProgressStyle")},i=(e,t)=>{if(!e||!t)return;let n=new Date,d={title:e,descr:t,data:n.toLocaleDateString(),id:Date.now()};return d},o=(e,t)=>{let n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),l=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),m=document.createElement("button"),u=document.createElement("button"),p=document.createElement("button");return e.append(n),n.append(d,a,l),d.append(i,s),l.append(c,r),i.innerText=t.title,o.innerText=t.descr,c.innerText="User1",r.innerText=t.data,u.setAttribute("data-name","closeBtn"),n.setAttribute("data-todoid",t.id),p.setAttribute("data-name","moveToProgress"),m.setAttribute("data-name","editBtn"),n.classList.add("itemBlock"),d.classList.add("itemBlockHeader"),i.classList.add("title"),a.classList.add("itemBlockMain"),l.classList.add("itemBlockFooter"),s.classList.add("btnContainer"),m.classList.add("editBtn"),u.classList.add("delBtn"),p.classList.add("moveToProgressBtn"),e.classList.contains("todoBlockContainer")?(s.append(m,u),a.append(o,p),p.innerText=">",m.innerText="Edit",u.innerText="Delete"):e.classList.contains("progressBlockContainer")?(s.append(m,u),a.append(o),m.innerText="BACK",u.innerText="COMPLETE",m.setAttribute("data-name","moveToTodo"),u.setAttribute("data-name","moveToDone")):(s.append(u),n.classList.add("moveToDoneStyle"),a.append(o),u.innerText="DELETE"),n};e();let c=document.getElementById("main_block"),r=document.getElementById("main"),s=document.createElement("div"),m=document.createElement("div"),u=document.createElement("div"),p=document.createElement("div"),E=document.createElement("div"),v=document.createElement("div"),L=document.createElement("h2"),T=document.createElement("h2"),g=document.createElement("h2"),B=document.createElement("div"),k=document.createElement("div"),x=document.createElement("div"),f=document.createElement("div"),h=document.createElement("div"),A=document.createElement("div"),b=document.createElement("button"),C=document.createElement("button");c.append(s,m,u),s.append(p,f,b),m.append(E,h),u.append(v,A,C),p.append(L,B),E.append(T,k),v.append(g,x),s.classList.add("todoBlock"),m.classList.add("progressBlock"),u.classList.add("doneBlock"),p.classList.add("todoBlockHeader"),E.classList.add("progressBlockHeader"),v.classList.add("doneBlockHeader"),f.classList.add("todoBlockContainer"),h.classList.add("progressBlockContainer"),A.classList.add("doneBlockContainer"),b.classList.add("todoBlockBtn"),C.classList.add("doneBlockBtn"),B.classList.add("todoBlockHeaderAmount"),k.classList.add("progressBlockHeaderAmount"),x.classList.add("doneBlockHeaderAmount"),L.innerText="TODO:",T.innerText="IN PROGRESS:",g.innerText="DONE:",b.innerText="ADD TODO",C.innerText="DELETE ALL";let S=document.createElement("div"),D=document.createElement("div"),M=document.createElement("input"),O=document.createElement("textarea"),N=document.createElement("div"),y=document.createElement("button"),I=document.createElement("button");M.setAttribute("placeholder","Title"),O.setAttribute("placeholder","Description"),r.append(S),S.append(M,O,D),D.append(N,y,I),N.innerText="Select user",y.innerText="Cancel",I.innerText="Confirm",S.classList.add("modalContainer"),M.classList.add("modalTitle"),O.classList.add("modalDescr"),D.classList.add("modalBtnContainer"),y.classList.add("modalCancelBtn"),I.classList.add("modalAddBtn"),b.addEventListener("click",()=>{t(S),n(X),n(en)}),y.addEventListener("click",()=>{M.value="",O.value="",n(S)});let H=document.createElement("div"),J=document.createElement("div"),P=document.createElement("input"),w=document.createElement("textarea"),Y=document.createElement("div"),_=document.createElement("button"),R=document.createElement("button");P.setAttribute("placeholder","Title"),w.setAttribute("placeholder","Description"),r.append(H),H.append(P,w,J),J.append(Y,_,R),Y.innerText="Select user",_.innerText="Cancel",R.innerText="Confirm",H.classList.add("editModalContainer"),P.classList.add("editModalTitle"),w.classList.add("editModalDescr"),J.classList.add("editModalBtnContainer"),_.classList.add("editModalCancelBtn"),R.classList.add("editModalAddBtn"),_.addEventListener("click",()=>{n(H)});let q=[],F=[],G=[],K=JSON.parse(localStorage.getItem("todoArr"))||[],U=JSON.parse(localStorage.getItem("progressArr"))||[],j=JSON.parse(localStorage.getItem("doneArr"))||[];B.innerText=q.length,k.innerText=F.length,x.innerText=G.length;let z=e=>{F.push(e);let t=o(h,e);l(t),V(t),a(B,q,k,F,x,G),d(q,F,G)},Q=e=>{e.addEventListener("click",t=>{if("closeBtn"===t.target.dataset.name){let n=e.dataset.todoid;t.currentTarget.remove(),a(B,q=q.filter(e=>+n!=+e.id),k,F,x,G),d(q,F,G)}}),e.addEventListener("click",l=>{if("moveToProgress"===l.target.dataset.name){if(F.length>5)t(en),n(X),n(S);else{let t=e.dataset.todoid;l.currentTarget.remove();let n=q.find(e=>+t==+e.id);a(B,q=q.filter(e=>+t!=+e.id),k,F,x,G),z(n),d(q,F,G)}}}),e.addEventListener("click",a=>{if("editBtn"===a.target.dataset.name){let a=e.dataset.todoid,l=q.find(e=>+a==+e.id);t(H),P.value=l.title,w.value=l.descr,R.addEventListener("click",()=>{l.title=P.value,l.descr=w.value,l.id=a,d(q,F,G),n(H),location.reload()})}})};I.addEventListener("click",()=>{let e=i(M.value,O.value);if(M.value&&O.value&&(M.value="",O.value="",n(S)),!e)return;q.push(e);let t=o(f,e);Q(t),a(B,q,k,F,x,G),d(q,F,G)});let V=e=>{e.addEventListener("click",t=>{if("moveToTodo"===t.target.dataset.name){let n=e.dataset.todoid;t.currentTarget.remove();let l=F.find(e=>+n==+e.id),i=o(f,l);Q(i),q.push(l),a(B,q,k,F=F.filter(e=>+n!=+e.id),x,G),d(q,F,G)}}),e.addEventListener("click",t=>{if("moveToDone"===t.target.dataset.name){let n=e.dataset.todoid;t.currentTarget.remove();let l=F.find(e=>+n==+e.id),i=o(A,l);G.push(l),W(i),a(B,q,k,F=F.filter(e=>+n!=+e.id),x,G),d(q,F,G)}})},W=e=>{e.addEventListener("click",t=>{if("closeBtn"===t.target.dataset.name){let n=e.dataset.todoid;t.currentTarget.remove(),a(B,q,k,F,x,G=G.filter(e=>+n!=+e.id)),d(q,F,G)}})},X=document.createElement("div"),Z=document.createElement("div"),$=document.createElement("div"),ee=document.createElement("button"),et=document.createElement("button");r.append(X),X.append($,Z),Z.append(ee,et),et.innerText="No",ee.innerText="Yes",X.classList.add("modalDoneContainer"),$.classList.add("doneModalTitle"),Z.classList.add("doneModalBtnContainer"),ee.classList.add("doneModalYesBtn"),et.classList.add("doneModalNoBtn"),$.innerText="Are you sure?",C.addEventListener("click",()=>{G.length&&(t(X),n(S),n(en),et.addEventListener("click",()=>{n(X)}),ee.addEventListener("click",()=>{A.innerHTML="",G.length=0,d(q,F,G),a(B,q,k,F,x,G),n(X)}))});let en=document.createElement("div"),ed=document.createElement("div"),ea=document.createElement("button");if(r.append(en),en.append(ed,ea),ea.innerText="Ok",en.classList.add("lengthModalContainer"),ed.classList.add("lengthModalTitle"),ea.classList.add("lengthModalBtn"),ed.innerText="You can't do more than 6 things at the same time",ea.addEventListener("click",()=>{n(en)}),K.length)for(let e of K){q.push(e);let t=o(f,e);Q(t),a(B,q,k,F,x,G)}if(U.length)for(let e of U)z(e);if(j.length)for(let e of j){G.push(e);let t=o(A,e);W(t),a(B,q,k,F,x,G)}}();