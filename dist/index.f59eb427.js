!function(){let e=()=>{let t=document.querySelector(".header__time"),n=new Date,d=n.toLocaleTimeString();t.textContent=d,setTimeout(e,1e3)},t=(e,t)=>{let n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),c=document.createElement("div"),l=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),m=document.createElement("button"),u=document.createElement("button"),E=document.createElement("button");e.append(n),n.append(d,a,c),d.append(l,s),s.append(m,u),a.append(o,E),c.append(r,i),l.innerText=t.title,m.innerText="Edit",u.innerText="Delete",o.innerText=t.descr,E.innerText=">",r.innerText="User1",i.innerText=t.data,u.setAttribute("data-name","closeBtn"),n.setAttribute("data-todoid",t.id),n.classList.add("itemBlock"),d.classList.add("itemBlockHeader"),l.classList.add("title"),a.classList.add("itemBlockMain"),c.classList.add("itemBlockFooter"),s.classList.add("btnContainer"),m.classList.add("editBtn"),u.classList.add("delBtn"),E.classList.add("moveToProgressBtn")},n=e=>{e.classList.add("activeModal")},d=e=>{e.classList.remove("activeModal")},a=(e,t,n)=>{localStorage.setItem("todoArr",JSON.stringify(e)),localStorage.setItem("progressArr",JSON.stringify(t)),localStorage.setItem("doneArr",JSON.stringify(n))},c=(e,n,d,a,c,l,o,r,i)=>{if(c.length)for(let n of c)a.push(n),t(e,n);if(o.length)for(let e of o)l.push(e),t(n,e);if(i.length)for(let e of i)r.push(e),t(d,e)},l=(e,t)=>{if(!e||!t)return;let n=new Date,d={title:e,descr:t,data:n.toLocaleDateString(),id:Date.now()};return d};e();let o=document.getElementById("main_block"),r=document.getElementById("main"),i=document.createElement("div"),s=document.createElement("div"),m=document.createElement("div"),u=document.createElement("div"),E=document.createElement("div"),p=document.createElement("div"),v=document.createElement("h2"),L=document.createElement("h2"),g=document.createElement("h2"),B=document.createElement("div"),T=document.createElement("div"),S=document.createElement("div"),x=document.createElement("div"),k=document.createElement("div"),f=document.createElement("div"),D=document.createElement("button"),b=document.createElement("button");o.append(i,s,m),i.append(u,x,D),s.append(E,k),m.append(p,f,b),u.append(v,B),E.append(L,T),p.append(g,S),i.classList.add("todoBlock"),s.classList.add("progressBlock"),m.classList.add("doneBlock"),u.classList.add("todoBlockHeader"),E.classList.add("progressBlockHeader"),p.classList.add("doneBlockHeader"),D.classList.add("todoBlockBtn"),b.classList.add("doneBlockBtn"),v.innerText="TODO:",L.innerText="IN PROGRESS:",g.innerText="DONE:",D.innerText="ADD TODO",b.innerText="DELETE ALL";let h=document.createElement("div"),A=document.createElement("div"),O=document.createElement("input"),I=document.createElement("textarea"),C=document.createElement("div"),N=document.createElement("button"),y=document.createElement("button");O.setAttribute("placeholder","Title"),I.setAttribute("placeholder","Description"),r.append(h),h.append(O,I,A),A.append(C,N,y),C.innerText="Select user",N.innerText="Cancel",y.innerText="Confirm",h.classList.add("modalContainer"),O.classList.add("modalTitle"),I.classList.add("modalDescr"),A.classList.add("modalBtnContainer"),N.classList.add("modalCancelBtn"),y.classList.add("modalAddBtn"),D.addEventListener("click",()=>{n(h)}),N.addEventListener("click",()=>{O.value="",I.value="",d(h)});let J=[],H=[],M=[],w=JSON.parse(localStorage.getItem("todoArr"))||[],_=JSON.parse(localStorage.getItem("progressArr"))||[],P=JSON.parse(localStorage.getItem("doneArr"))||[];y.addEventListener("click",()=>{let e=l(O.value,I.value);O.value&&I.value&&(O.value="",I.value="",d(h)),e&&(J.push(e),console.log(J),t(x,e),a(J,H,M))}),document.addEventListener("DOMContentLoaded",()=>{c(x,k,f,J,w,H,_,M,P)})}();