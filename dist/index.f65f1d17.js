!function(){let e=()=>{let t=document.querySelector(".header__time"),n=new Date,d=n.toLocaleTimeString();t.textContent=d,setTimeout(e,1e3)},t=(e,t)=>{let n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),c=document.createElement("div"),l=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),m=document.createElement("button"),s=document.createElement("button"),u=document.createElement("button");e.append(n),n.append(d,a,c),d.append(l,m,s),a.append(o,u),c.append(r,i),l.innerText=t.title,m.innerText="Edit",s.innerText="Delete",o.innerText=t.descr,u.innerText=">",r.innerText="User1",i.innerText=t.data},n=e=>{e.classList.add("activeModal")},d=e=>{e.classList.remove("activeModal")},a=(e,t,n)=>{localStorage.setItem("todoArr",JSON.stringify(e)),localStorage.setItem("progressArr",JSON.stringify(t)),localStorage.setItem("doneArr",JSON.stringify(n))},c=(e,n,d,a,c,l,o,r,i)=>{if(c.length)for(let n of c)a.push(n),t(e,n);if(o.length)for(let e of o)l.push(e),t(n,e);if(i.length)for(let e of i)r.push(e),t(d,e)},l=(e,t)=>{if(!e||!t)return;let n=new Date,d={title:e,descr:t,data:n.toLocaleDateString(),id:Date.now()};return d};e();let o=document.getElementById("main_block"),r=document.getElementById("main"),i=document.createElement("div"),m=document.createElement("div"),s=document.createElement("div"),u=document.createElement("div"),E=document.createElement("div"),p=document.createElement("div"),v=document.createElement("h2"),L=document.createElement("h2"),g=document.createElement("h2"),T=document.createElement("div"),S=document.createElement("div"),x=document.createElement("div"),f=document.createElement("div"),B=document.createElement("div"),D=document.createElement("div"),h=document.createElement("button"),O=document.createElement("button");o.append(i,m,s),i.append(u,f,h),m.append(E,B),s.append(p,D,O),u.append(v,T),E.append(L,S),p.append(g,x),i.classList.add("todoBlock"),m.classList.add("progressBlock"),s.classList.add("doneBlock"),u.classList.add("todoBlockHeader"),E.classList.add("progressBlockHeader"),p.classList.add("doneBlockHeader"),h.classList.add("todoBlockBtn"),O.classList.add("doneBlockBtn"),v.innerText="TODO:",L.innerText="IN PROGRESS:",g.innerText="DONE:",h.innerText="ADD TODO",O.innerText="DELETE ALL";let k=document.createElement("div"),A=document.createElement("div"),b=document.createElement("input"),I=document.createElement("textarea"),N=document.createElement("div"),C=document.createElement("button"),y=document.createElement("button");b.setAttribute("placeholder","Title"),I.setAttribute("placeholder","Description"),r.append(k),k.append(b,I,A),A.append(N,C,y),N.innerText="Select user",C.innerText="Cancel",y.innerText="Confirm",k.classList.add("modalContainer"),b.classList.add("modalTitle"),I.classList.add("modalDescr"),A.classList.add("modalBtnContainer"),C.classList.add("modalCancelBtn"),y.classList.add("modalAddBtn"),h.addEventListener("click",()=>{n(k)}),C.addEventListener("click",()=>{b.value="",I.value="",d(k)});let J=[],w=[],H=[],M=JSON.parse(localStorage.getItem("todoArr"))||[],_=JSON.parse(localStorage.getItem("progressArr"))||[],R=JSON.parse(localStorage.getItem("doneArr"))||[];y.addEventListener("click",()=>{let e=l(b.value,I.value);b.value&&I.value&&(b.value="",I.value="",d(k)),e&&(J.push(e),console.log(J),t(f,e),a(J,w,H))}),document.addEventListener("DOMContentLoaded",()=>{c(f,B,D,J,M,w,_,H,R)})}();